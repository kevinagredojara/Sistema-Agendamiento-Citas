{% extends "agendamiento/base.html" %}
{% load static %}

{% block title %}Cambiar Contraseña{% endblock %}

{% block body_class %}password-change-page{% endblock %}

{% block content %}
<div class="password-change-container" style="max-width: 520px !important; width: 100% !important; margin: 30px auto !important; min-height: 450px !important; padding: 40px !important; background-color: white !important; border-radius: 8px !important; box-shadow: 0 2px 10px rgba(0,0,0,0.1) !important;">
    <h1 style="margin-bottom: 30px !important; font-size: 24px !important; text-align: center !important; color: #0056b3 !important;">Cambiar Contraseña</h1>

    <div class="form-section">
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-success btn-full">Cambiar Contraseña</button>
        </form>
    </div>
    
    <div class="back-link-container">
        {% if user.asesor_perfil %}
            <a href="{% url 'agendamiento:dashboard_asesor' %}" class="back-link">Volver al Dashboard</a>
        {% elif user.profesional_perfil %}
            <a href="{% url 'agendamiento:dashboard_profesional' %}" class="back-link">Volver al Dashboard</a>
        {% elif user.paciente_perfil %}
            <a href="{% url 'agendamiento:dashboard_paciente' %}" class="back-link">Volver al Dashboard</a>
        {% else %}
            <a href="{% url 'agendamiento:login' %}" class="back-link">Volver al Login</a>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
/* Estilos específicos solo para esta página de cambio de contraseña */
.password-change-container {
    max-width: 520px !important;
    width: 520px !important;
    margin: 40px auto !important;
    min-height: 420px !important;
    padding: 45px !important;
    background-color: white !important;
    border-radius: 8px !important;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1) !important;
    box-sizing: border-box !important;
}

/* Anular cualquier estilo del contenedor principal */
body.password-change-page .main-content {
    max-width: 650px !important;
    margin: 0 auto !important;
    padding: 20px !important;
}

/* Asegurar que no haya estilos conflictivos */
.password-change-container h1 {
    margin-bottom: 25px !important;
    text-align: center !important;
    color: #0056b3 !important;
}

.password-change-container .form-section {
    margin-bottom: 20px !important;
}

.password-change-container .form-section form {
    text-align: left !important;
}

.password-change-container .form-section button {
    display: block !important;
    margin: 20px auto 0 auto !important;
    text-align: center !important;
}

.password-change-container .back-link-container {
    margin-top: 25px !important;
    text-align: center !important;
}
</style>
{% endblock %}