{% extends "agendamiento/base.html" %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Formulario de Registro" }}{% endblock %}

{% block navigation %}
    <a href="{% url 'agendamiento:dashboard_asesor' %}">Dashboard</a>
    <a href="{% url 'agendamiento:registrar_paciente' %}">Registrar Paciente</a>
    <a href="{% url 'agendamiento:listar_pacientes' %}">Gestionar Pacientes</a>
    <a href="{% url 'agendamiento:consultar_disponibilidad' %}">Consultar Disponibilidad</a>
    <a href="{% url 'agendamiento:visualizar_citas_gestionadas' %}">Citas Gestionadas</a>
{% endblock %}

{% block content %}
<div class="form-registro-amplio">
    <h1>{{ titulo_pagina|default:"Formulario de Registro" }}</h1>

    <form method="post" novalidate>
        {% csrf_token %}
        
        <div class="form-columns">
            <div class="form-column">
                <div class="form-section">
                    <h3>Datos de la Cuenta de Usuario</h3>
                    {{ user_form.as_p }}
                </div>
            </div>
            
            <div class="form-column">
                <div class="form-section">
                    <h3>Datos del Paciente</h3>
                    {{ paciente_form.as_p }}
                </div>
            </div>
        </div>
        
        <button type="submit" class="btn btn-success btn-full">Registrar Paciente</button>
    </form>
    
    <div class="back-link-container">
        <a href="{% url 'agendamiento:dashboard_asesor' %}" class="back-link">Volver al Dashboard del Asesor</a>
    </div>
</div>
{% endblock %}